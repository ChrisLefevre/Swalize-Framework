{"title":"D\u00e9velopper son th\u00e8me.","headline":"Premiers pas avec $sw ","author":"root","article":"<p class=\"p1\"><span class=\"s1\">Pour connecter Swalize CMS &agrave; un site, il suffit de l&rsquo;inclure dans vos pages ou templates de cette fa&ccedil;on.<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">&lt;?php<\/span><\/p>\r\n<p class=\"p2\"><span class=\"s1\">define('ADMIN_URL','sw-admin\/');<\/span><\/p>\r\n<p class=\"p2\"><span class=\"s1\">include ADMIN_URL.'inc\/system.php'; <\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">?&gt;<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">la racine du site est disponible avec $site_url ou $sw_vars[&rsquo;site_url&rsquo;];<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">le reste des donn&eacute;es se r&eacute;cup&egrave;re avec $sw<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\"><em>Langue en cours<\/em><\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">$sw -&gt; lang;<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\"><em>r&eacute;cup&eacute;rer dans un tableau les donn&eacute;es qui sont sauv&eacute;es avec le formulaire $swcnt_tree[&lsquo;page_de_test&rsquo;]<\/em><\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">$sw -&gt; block(&lsquo;page_de_test&rsquo;);<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\"><em>g&eacute;n&eacute;rer une uri<\/em><\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">$sw -&gt;uri(&lsquo;page&rsquo;,&lsquo;arguments&rsquo;)<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\"><em>Traduire une phrase et l&rsquo;importer dans l&rsquo;admin de traduction<\/em><\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">$sw -&gt; _(&lsquo;phrase &agrave; traduire&rsquo;);<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\"><em>Obtenir le contenu d&rsquo;un article dans un tableau. L&rsquo;identifiant peut &ecirc;tre le champ<\/em><\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">$sw -&gt; blogpost(&lsquo;identifiant de la page&rsquo;,&rsquo;blog&rsquo; ou &lsquo;portfolio&rsquo; ou &lsquo;catalog&rsquo;);<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\"><em>Lister les articles avec certains filtres<\/em><\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">$sw -&gt; blogposts(&lsquo;n&deg; de page 1,2,3,&hellip;&rsquo;),&rsquo;Nb maximum d&rsquo;articles (100)&rsquo;,&rsquo;categorie ou 0&rsquo;,&rsquo;tag&rsquo;,&rsquo;blog&rsquo; ou &lsquo;portfolio&rsquo; ou &lsquo;catalog&rsquo;);<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\"><em>Lister les categories<\/em><\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">$sw -&gt; listCats(&rsquo;blog&rsquo; ou &lsquo;portfolio&rsquo; ou &lsquo;catalog&rsquo;);<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\"><em>Nom d&rsquo;une cat&eacute;gorie &agrave; partir de son identifiant (slug)<\/em><\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">$sw -&gt; getCatName($catId,&rsquo;blog&rsquo; ou &lsquo;portfolio&rsquo; ou &lsquo;catalog&rsquo;) ;<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\"><em>Supprimer les caract&egrave;res sp&eacute;ciaux d&rsquo;une chaine pour g&eacute;n&eacute;rer une url<\/em><\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">$sw -&gt; format_url(&lsquo;texte&rsquo;);<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\"><em>Exemple d&rsquo;utilisation :<\/em><\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">&lt;?php<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">define(&lsquo;ADMIN_URL&rsquo;, &lsquo;sw-admin\/&rsquo;);<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">include ADMIN_URL.&lsquo;inc\/system.php&rsquo;;<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">\/* Afficher les 100 derniers articles *\/<\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">foreach ($sw -&gt; blogposts(1, 100, 0,&rsquo;&rsquo;,&lsquo;blog&rsquo;) as $k =&gt; $v)<\/span><\/p>\r\n<p class=\"p2\"><span class=\"s1\"><span class=\"Apple-converted-space\">&nbsp; &nbsp; <\/span>{<\/span><\/p>\r\n<p class=\"p2\"><span class=\"s1\"><span class=\"Apple-converted-space\">&nbsp; &nbsp; <\/span>echo '&lt;img src=\"'.$sw_vars['site_url'] . ADMIN_URL.'upload\/show\/380\/'.$v['illustration'].'\" \/&gt;';<\/span><\/p>\r\n<p class=\"p2\"><span class=\"s1\"><span class=\"Apple-converted-space\">&nbsp; &nbsp; <\/span>echo '&lt;h5&gt;'.$v['title'].'&lt;\/h5&gt;<\/span><\/p>\r\n<p class=\"p2\"><span class=\"s1\"><span class=\"Apple-converted-space\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <\/span>&lt;h6&gt;'.$v['headline'].'&lt;\/h6&gt;<\/span><\/p>\r\n<p class=\"p2\"><span class=\"s1\"><span class=\"Apple-converted-space\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <\/span>&lt;a href=\"'.$sw_vars['site_url'].$sw-&gt;uri('article',$v['urltxt']).'\"&gt;Lire la suite&lt;\/a&gt;';<\/span><\/p>\r\n<p class=\"p2\"><span class=\"s1\"><span class=\"Apple-converted-space\">&nbsp; &nbsp; <\/span>} <\/span><\/p>\r\n<p class=\"p1\"><span class=\"s1\">?&gt;<\/span><\/p>","pubdate":"2016-02-13 18:42:12","status":"1"}