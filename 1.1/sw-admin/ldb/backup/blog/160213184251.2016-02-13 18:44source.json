{"title":"D\u00e9velopper son th\u00e8me.","headline":"Premiers pas avec $sw ","author":"root","article":"<p>Pour connecter Swalize CMS &agrave; un site, il suffit de l&rsquo;inclure dans vos pages ou templates de cette fa&ccedil;on.&nbsp;<\/p>\r\n<pre>&lt;?php <br \/> define('ADMIN_URL','sw-admin\/');<br \/> include ADMIN_URL.'inc\/system.php'; <br \/>?&gt;<\/pre>\r\n<p>&nbsp;<\/p>\r\n<p>la racine du site est disponible avec $site_url ou $sw_vars['site_url&rsquo;]; <br \/>le reste des donn&eacute;es se r&eacute;cup&egrave;re avec $sw<\/p>\r\n<p>*Langue en cours*<br \/>$sw -&gt; lang;<\/p>\r\n<p>*r&eacute;cup&eacute;rer dans un tableau les donn&eacute;es qui sont sauv&eacute;es avec le formulaire $swcnt_tree[&lsquo;page_de_test&rsquo;]*<\/p>\r\n<p>$sw -&gt; block('page_de_test');<\/p>\r\n<p>*g&eacute;n&eacute;rer une uri* <br \/>$sw -&gt;uri('page','arguments')<\/p>\r\n<p>*Traduire une phrase et l&rsquo;importer dans l&rsquo;admin de traduction*<br \/>$sw -&gt; _(&lsquo;phrase &agrave; traduire&rsquo;);<\/p>\r\n<p>*Obtenir le contenu d&rsquo;un article dans un tableau. L&rsquo;identifiant peut &ecirc;tre le champ*<br \/>$sw -&gt; blogpost(&lsquo;identifiant de la page&rsquo;,&rsquo;blog' ou &lsquo;portfolio&rsquo; ou &lsquo;catalog&rsquo;);<\/p>\r\n<p><br \/>*Lister les articles avec certains filtres*<br \/>$sw -&gt; blogposts(&lsquo;n&deg; de page 1,2,3,&hellip;&rsquo;),&rsquo;Nb maximum d&rsquo;articles (100)&rsquo;,&rsquo;categorie ou 0&rsquo;,&rsquo;tag&rsquo;,&rsquo;blog' ou &lsquo;portfolio&rsquo; ou &lsquo;catalog&rsquo;);<\/p>\r\n<p>*Lister les categories*<br \/>$sw -&gt; listCats(&rsquo;blog' ou &lsquo;portfolio&rsquo; ou &lsquo;catalog&rsquo;);<\/p>\r\n<p>*Nom d&rsquo;une cat&eacute;gorie &agrave; partir de son identifiant (slug)*<br \/>$sw -&gt; getCatName($catId,&rsquo;blog' ou &lsquo;portfolio&rsquo; ou &lsquo;catalog&rsquo;) ;<\/p>\r\n<p>*Supprimer les caract&egrave;res sp&eacute;ciaux d&rsquo;une chaine pour g&eacute;n&eacute;rer une url*<br \/>$sw -&gt; format_url(&lsquo;texte&rsquo;);<\/p>\r\n<p><br \/>##### Exemple d&rsquo;utilisation :<\/p>\r\n<p><br \/>&lt;?php<\/p>\r\n<p>define('ADMIN_URL', 'sw-admin\/');<br \/>include ADMIN_URL.'inc\/system.php';<\/p>\r\n<p>\/* Afficher les 100 derniers articles *\/<\/p>\r\n<p>foreach ($sw -&gt; blogposts(1, 100, 0,'','blog') as $k =&gt; $v)<br \/> {<br \/> echo '&lt;img src=\"'.$sw_vars['site_url'] . ADMIN_URL.'upload\/show\/380\/'.$v['illustration'].'\" \/&gt;';<br \/> echo '&lt;h5&gt;'.$v['title'].'&lt;\/h5&gt;<br \/> &lt;h6&gt;'.$v['headline'].'&lt;\/h6&gt;<br \/> &lt;a href=\"'.$sw_vars['site_url'].$sw-&gt;uri('article',$v['urltxt']).'\"&gt;Lire la suite&lt;\/a&gt;';<br \/> }<\/p>\r\n<p>?&gt;<\/p>\r\n<p>&nbsp;<\/p>","pubdate":"2016-02-13 18:42:12","status":"1"}